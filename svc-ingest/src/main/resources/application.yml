spring:
  main:
    banner-mode: "off"

  jackson:
    serialization:
      INDENT_OUTPUT: true
#    web-application-type: none

server:
  port: 9520
  servlet:
    context-path: '/api'
  error:
    include-stacktrace: never

beancounter:
  exchanges:
    aliases:
      NYS: NYSE
      NAS: NASDAQ
      AX: ASX
      NZ: NZX

logging:
  level:
    root: debug
    org.springframework.web.servlet: fatal
    org.springframework: error
    org.springframework.boot.web: info
    org.mortbay: error
    org.spring: error
    com.google: error
    org.apache: error
    com.netflix: error
    org: error
    sun: error
    jdk: error
    javax: error
    io.opencensus: error
    io: error
    com.beancounter: debug
    feign.template: error
    io.github.resilience4j: fatal

feign:
  client:
    config:
      default:
        errorDecoder: com.beancounter.common.exception.SpringFeignDecoder

    # http://localhost:9500/actuator/circuitbreaker-events/marketdata

resilience4j.circuitbreaker:
  configs:
    default:
      failureRateThreshold: 3
      slidingWindowSize: 10
      permittedNumberOfCallsInHalfOpenState: 3
      slidingWindowType: TIME_BASED
      waitDurationInOpenState: 5s
      registerHealthIndicator: true
      recordFailurePredicate: com.beancounter.common.exception.RecordFailurePredicate
